## 第1章: CI/CDの再考 — 導入を阻む「聖域」とは何か

### 1.1 CI/CDの本質を理解する

CI/CD（継続的インテグレーション/継続的デリバリー）は、単なる技術的な手法やツールの集合ではありません。それは、ソフトウェア開発とデリバリーのアプローチ全体を根本的に変革する哲学です。この哲学の核心には、「変更を頻繁に、小さく、安全に行う」という原則があります。

継続的インテグレーション（CI）は、開発者がコードの変更を頻繁にメインリポジトリに統合し、自動テストを実行することで、早期に問題を発見し修正するプラクティスです。継続的デリバリー（CD）は、ソフトウェアがいつでもリリース可能な状態を維持し、デプロイメントプロセスを自動化するプラクティスです。さらに進んだ継続的デプロイメントでは、すべての変更が自動的に本番環境にデプロイされます。

CI/CDの本質的な価値は以下の点にあります：

1. **フィードバックループの短縮**: 変更の影響を早期に把握することで、問題の修正コストを低減します。
2. **リスクの低減**: 小さな変更を頻繁に行うことで、各変更のリスクを最小化します。
3. **生産性の向上**: 反復的な作業を自動化することで、開発者はより価値の高い作業に集中できます。
4. **品質の向上**: 継続的なテストと統合により、ソフトウェアの品質を継続的に向上させます。
5. **デリバリーの加速**: 市場に新機能を届ける速度が劇的に向上します。

これらの価値は、多くの組織にとって魅力的です。しかし、CI/CDの導入を試みる多くの組織が、「理想と現実のギャップ」に直面します。このギャップを生み出すのが、本書で取り上げる「聖域」です。

### 1.2 組織内の「聖域」を特定する

組織内の「聖域」とは、変更や改善が困難とされる領域、プロセス、または慣行のことです。これらの聖域は、CI/CDの導入を阻む大きな障壁となります。以下に、典型的な聖域とその特徴を示します：

#### 1.2.1 技術的な聖域

1. **レガシーシステム**: 長年にわたって運用されてきたシステムは、しばしば複雑で脆弱であり、自動化やテストの導入が困難です。
   
2. **手動テスト依存**: 「このテストは自動化できない」という信念が根強い領域があります。特に、UI、パフォーマンス、セキュリティのテストなどが該当します。

3. **環境依存**: 「開発環境では動くが、本番環境では違う」という問題が常態化している状況です。

4. **ブランチ戦略の固定化**: 「うちではこのブランチ戦略が唯一正しい」という考えが、より効率的なCI/CDの導入を妨げることがあります。

#### 1.2.2 プロセスの聖域

1. **リリース承認プロセス**: 複数層の承認が必要なリリースプロセスは、CI/CDのスピードと相容れないことがあります。

2. **変更管理の複雑さ**: 厳格な変更管理プロセスが、迅速な変更の適用を妨げることがあります。

3. **サイロ化された責任**: 開発、テスト、運用が分断されていると、エンドツーエンドの自動化が困難になります。

#### 1.2.3 文化的な聖域

1. **リスク回避文化**: 「失敗は許されない」という文化は、小さな変更を頻繁に行うCI/CDの原則と対立します。

2. **専門家への依存**: 特定の個人に依存する文化は、知識の共有と自動化を妨げます。

3. **変化への抵抗**: 「今までうまくいっているのだから、変える必要はない」という考え方が、革新を阻害します。

これらの聖域は、しばしば以下のような言葉として表面化します：

- 「それは理想論だが、現実の業務ではそうはいかない」
- 「うちの環境は特殊だから、標準的なアプローチは使えない」
- 「本番環境は触れない。何かあったら責任問題になる」
- 「自動化する時間がない。今は手動でやるしかない」

これらの言葉の背後には、単なる抵抗ではなく、真の懸念や課題が隠れていることがよくあります。重要なのは、これらの聖域を批判するのではなく、それらが存在する理由を理解し、適切に対処することです。

### 1.3 なぜCI/CDの導入は失敗するのか

CI/CDの導入プロジェクトが失敗する主な理由を理解することは、成功への第一歩です。以下に、一般的な失敗の原因を示します：

#### 1.3.1 技術偏重のアプローチ

最も一般的な失敗の原因は、CI/CDを純粋に技術的な問題として扱い、組織的・文化的側面を無視することです。ツールを導入すれば自動的にCI/CDが実現すると考えるのは大きな誤りです。

**失敗例**: あるIT企業は、最新のCI/CDツールを導入しましたが、開発者が従来の作業方法を変えなかったため、ツールは単なる「チェックボックス」となり、実際のプロセスは変わりませんでした。

#### 1.3.2 トップダウンのみ、またはボトムアップのみのアプローチ

CI/CDの導入は、トップダウン（経営層からの指示）とボトムアップ（現場からの改善）の両方のアプローチが必要です。どちらか一方だけでは、持続的な変化を生み出すことは難しいでしょう。

**失敗例**: ある組織では、経営層がCI/CDの導入を命じましたが、現場のエンジニアが関与せず、実際の課題を理解しないまま進められたため、実用的でないワークフローが構築されました。

#### 1.3.3 「ビッグバン」アプローチ

すべてを一度に変えようとするアプローチは、大きなリスクと抵抗を生み出します。CI/CDの導入は、段階的に行うべきです。

**失敗例**: ある企業は、すべてのレガシープロジェクトを一度にCI/CDパイプラインに移行しようとしましたが、多くの問題が発生し、最終的にはプロジェクト全体が中止されました。

#### 1.3.4 組織の準備状況の無視

CI/CDの導入には、適切なスキル、リソース、インフラが必要です。組織の準備状況を評価せずに進めると、失敗する可能性が高くなります。

**失敗例**: クラウドインフラの経験が限られている組織が、クラウドネイティブなCI/CDツールを導入しようとしましたが、基盤となる知識とスキルの不足により、実装が停滞しました。

#### 1.3.5 改善の測定失敗

CI/CDの導入による改善を測定し可視化しないと、その価値を証明することができず、持続的な投資を得ることが難しくなります。

**失敗例**: CI/CDを導入したチームが、デプロイ頻度やリードタイムなどの主要指標を測定しなかったため、経営層にその効果を示すことができず、次年度の予算が削減されました。

### 1.4 聖域なきCI/CD – 本書のアプローチ

本書では、上記の失敗を避け、組織内の「聖域」に適切に対処するためのアプローチを提案します。このアプローチは以下の原則に基づいています：

#### 1.4.1 理解と共感からスタートする

CI/CDの導入を阻む「聖域」には、多くの場合、正当な理由や懸念があります。これらを単に「古い考え方」として否定するのではなく、なぜそのような慣行や信念が存在するのかを理解することから始めます。

**アプローチ**: ステークホルダーとの対話を通じて、現在のプロセスの背後にある理由と懸念を明確にします。「なぜ」を5回繰り返して根本原因を探る「5つのなぜ」技法を活用します。

#### 1.4.2 段階的な変革を計画する

CI/CDの導入は、一夜にして完了するものではありません。小さな成功を積み重ね、徐々に規模を拡大することが重要です。

**アプローチ**: 「最小限の労力で最大の価値を生み出す」領域から始め、成功事例を作ります。この成功を基盤に、徐々に範囲を拡大します。

#### 1.4.3 技術とプロセスと文化を同時に変革する

CI/CDは、技術、プロセス、文化の3つの側面を持つ変革です。これらを個別に扱うのではなく、統合的なアプローチを取ります。

**アプローチ**: 技術導入と同時に、プロセスの最適化とチーム文化の育成に取り組みます。例えば、新しいCI/CDツールの導入時には、それを効果的に使用するためのプロセスの再設計とチームの協働方法の見直しも行います。

#### 1.4.4 測定と可視化を重視する

CI/CDの導入効果を測定し、可視化することで、その価値を証明し、持続的な改善を促進します。

**アプローチ**: デプロイ頻度、リードタイム、変更失敗率、復旧時間などの主要指標を定義し、継続的に測定します。これらの指標をダッシュボードで可視化し、改善の進捗を追跡します。

#### 1.4.5 適切なツールの選択と組み合わせ

GitHub系ツールとJenkins系ツールはそれぞれ異なる強みを持っています。組織のニーズと現状に最適なツールを選択し、必要に応じて複数のツールを組み合わせることが重要です。

**アプローチ**: 本書の後半で詳細に解説するように、プロジェクトの特性、チームのスキルセット、組織の文化に基づいて、最適なツールの組み合わせを選択します。

---

次章からは、具体的な「聖域」への対処法と、GitHub系ツールとJenkins系ツールの詳細な比較と使い分けについて解説していきます。CI/CDの導入を阻む障壁に打ち克ち、真の組織変革を実現するための具体的な戦略を提供します。
